<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>Chocolate Day</title>
    <link rel="stylesheet" href="../styles.css" />
  </head>
  <body class="theme-chocolate">
    <div class="signature-wrap">
      <div class="signature-text header-text">from dumbo...</div>
    </div>

    <div class="carousel-container">
      <div class="date-header">FEBRUARY 09, 2026</div>
      <hr />

      <div class="slide active">
        <span class="icon wobble">üç´</span>
        <h2>Pick Your Treat</h2>
        <p>
          Choose the chocolate you want for our next meet. Think carefully,
          Madam! You only have one coupon! üòà
        </p>
      </div>

      <div class="slide">
        <h3>Select your favourite chocolate:</h3>
        <div class="choc-grid">
          <div class="choc-card" onclick="selectChoc('Amul Milk Chocolate', this)">
            <span><img src="images/amul.webp" alt="Us" style="width: 75%" /></span>
          </div>
          <div class="choc-card" onclick="selectChoc('Dairy Milk Silk Oreo', this)">
            <span><img src="images/silkoreo.jpeg" alt="Us" style="width: 75%" /></span>
          </div>
          <div class="choc-card" onclick="selectChoc('Nestle Classic', this)">
            <span><img src="images/nestle.jpeg" alt="Us" style="width: 75%" /></span>
          </div>
          <div class="choc-card" onclick="selectChoc('KitKat', this)">
            <span><img src="images/kitkat.webp" alt="Us" style="width: 75%" /></span>
          </div>
        </div>
        <p
          id="selection-msg"
          style="
            font-size: 0.85rem;
            color: var(--chocolate-brown);
            font-weight: bold;
          "
        ></p>
      </div>

      <div class="slide">
        <div class="personal-photo-container">
          <img src="images/cd_silk.PORTRAIT.jpg" alt="Us" style="width: 75%" />          
        </div>
        <div class="photo-caption">Did you already forget it? ü§î</div>
      </div>

      <div class="slide">
        <span class="icon pulse">‚úÖ</span>
        <h2>Order Confirmed!</h2>
        <div class="receipt">
          <p style="margin: 5px 0">ITEM: <span id="final-choc">None</span></p>
          <p style="margin: 5px 0">PRICE: ‚Çπ0 (Paid with Love)</p>
          <p style="margin: 5px 0">DELIVERY DATE: Next Meetup</p>
        </div>
        <p>I‚Äôve noted it down! Get ready for the sugar rush.</p>
      </div>

      <div
        class="nav-buttons"
        style="
          display: flex;
          justify-content: space-between;
          align-items: center;
          width: 100%;
          margin-top: 25px;
        "
      >
        <button id="prevBtn" onclick="changeSlide(-1)" disabled>Back</button>
        <div class="dots-container">
          <div class="dot active-dot"></div>
          <div class="dot"></div>
          <div class="dot"></div>
          <div class="dot"></div>
        </div>
        <button id="nextBtn" onclick="changeSlide(1)">Next</button>
      </div>

      <a href="../index.html" class="back-link" style="margin-top: 20px"
        >üè† Valentine's Week</a
      >
    </div>

    <div class="signature-wrap">
      <div class="signature-text footer-text">...to his madam</div>
    </div>

    <script>
      let currentSlide = 0;
      let selectedChocolate = "";
      const slides = document.querySelectorAll(".slide");
      const dots = document.querySelectorAll(".dot");
      const nextBtn = document.getElementById("nextBtn");
      const prevBtn = document.getElementById("prevBtn");

      function selectChoc(name, element) {
        // Update variable
        selectedChocolate = name;

        // UI Feedback
        document
          .querySelectorAll(".choc-card")
          .forEach((card) => card.classList.remove("selected"));
        element.classList.add("selected");
        document.getElementById("selection-msg").innerText =
          "Selected: " + name + "!";
        document.getElementById("final-choc").innerText = name;
      }

      function changeSlide(direction) {
        // Validation: Don't let her go past Slide 2 without picking
        if (currentSlide === 1 && direction === 1 && selectedChocolate === "") {
          alert("Please select a chocolate first! üç´");
          return;
        }

        slides[currentSlide].classList.remove("active");
        dots[currentSlide].classList.remove("active-dot");

        currentSlide += direction;
        if (currentSlide >= slides.length) currentSlide = 0;
        if (currentSlide < 0) currentSlide = slides.length - 1;

        slides[currentSlide].classList.add("active");
        dots[currentSlide].classList.add("active-dot");

        prevBtn.disabled = currentSlide === 0;

        if (currentSlide === slides.length - 1) {
          nextBtn.innerText = "Start Over ‚ú®";
        } else {
          nextBtn.style.visibility = "visible";
          nextBtn.innerText = currentSlide === 1 ? "Checkout üõí" : "Next";
        }
      }
    </script>
  </body>
</html>
